<!DOCTYPE html>
<meta charset='utf-8'>
<html>
  <head>
    <link rel="icon" href="https://cdn.glitch.com/34a5c006-eff0-41ec-b90b-89c2d7836211%2Ffavicon.ico?v=1631902446808" type="image/png"/>
    <script>
        if (location.hostname == 'tortoiseshell-silken-stranger.glitch.me' && location.protocol != 'https:') {
           location.href = 'https:' + window.location.href.substring(window.location.protocol.length);
        }
    </script>
  <style>
        table {
          border-collapse: collapse;
          border: 2px black solid;
          font: 14px sans-serif ;
        }
        td,th {
          border: 1px black solid;
          padding: 5px;
        }
        th {
          background-color: black;
          color: white;
          border-color: white;
        }
  </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.0.1/d3.js" charset="utf-8"></script>
  </head>
  <body>
    <style>
        td, th {
            padding: 1px 4px;
        }
    </style>
    <script>
            d3.text(window.location.protocol + '//' + window.location.host + '/weatherAUS.csv').then( (data) => {
              var parsedCSV = d3.csvParseRows(data);
              var headers = [parsedCSV.shift()]
              var table = d3.select("body").append("table").style("color", "green")
              var thead = table.append("thead")
              var tbody = table.append("tbody")
              var tfoot = table.append("tfoot")
              thead.selectAll("tr").data(headers).enter().append("tr").selectAll("th")
                .data(d => d).enter().append("th").text(d => d)
              tbody.selectAll("tr").data(parsedCSV).enter().append("tr").selectAll("td")
                .data(d => d).enter().append("td").text(d => d)
            });
    </script>
  </body>
</html>
